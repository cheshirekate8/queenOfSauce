{"ast":null,"code":"import { csrfFetch } from \"./csrf.js\";\nconst GET_INGREDIENTS = '/ingredients';\nconst NEW_INGREDIENT = '/newIngredient';\n\nconst getIng = list => ({\n  type: GET_INGREDIENTS,\n  list\n});\n\nconst newIng = payload => ({\n  type: NEW_INGREDIENT,\n  payload\n});\n\nexport const getIngredients = () => async dispatch => {\n  const response = await csrfFetch('/api/ingredients');\n\n  if (response.ok) {\n    const ingredients = await response.json();\n    dispatch(getIng(ingredients));\n  }\n};\nexport const newIngredient = () => async dispatch => {\n  const response = await csrfFetch(\"/api/ingredients\", {\n    method: \"POST\",\n    body: JSON.stringify({\n      userId,\n      name\n    })\n  });\n};\nconst initialState = {\n  ingredients: null\n};\n\nfunction reducer(state = initialState, action) {\n  let newState;\n\n  switch (action.type) {\n    case GET_INGREDIENTS:\n      // const allIngs = {};\n      // action.list.forEach(ingredient => {\n      //     allIngs[ingredient.id] = ingredient\n      // })\n      newState = { ...state,\n        ingredients: action.list\n      };\n      return newState;\n\n    default:\n      return state;\n  }\n}\n\nexport default reducer;","map":{"version":3,"sources":["/home/cheshirekate8/appAcademyCode/projects/stardewRecipes/solution/frontend/src/store/pantry.js"],"names":["csrfFetch","GET_INGREDIENTS","NEW_INGREDIENT","getIng","list","type","newIng","payload","getIngredients","dispatch","response","ok","ingredients","json","newIngredient","method","body","JSON","stringify","userId","name","initialState","reducer","state","action","newState"],"mappings":"AAAA,SAASA,SAAT,QAA0B,WAA1B;AAEA,MAAMC,eAAe,GAAG,cAAxB;AACA,MAAMC,cAAc,GAAG,gBAAvB;;AAEA,MAAMC,MAAM,GAAIC,IAAD,KAAW;AACtBC,EAAAA,IAAI,EAAEJ,eADgB;AAEtBG,EAAAA;AAFsB,CAAX,CAAf;;AAIA,MAAME,MAAM,GAAIC,OAAD,KAAc;AACzBF,EAAAA,IAAI,EAAEH,cADmB;AAEzBK,EAAAA;AAFyB,CAAd,CAAf;;AAMA,OAAO,MAAMC,cAAc,GAAG,MAAM,MAAMC,QAAN,IAAkB;AAClD,QAAMC,QAAQ,GAAG,MAAMV,SAAS,CAAC,kBAAD,CAAhC;;AACA,MAAIU,QAAQ,CAACC,EAAb,EAAiB;AACb,UAAMC,WAAW,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAA1B;AACAJ,IAAAA,QAAQ,CAACN,MAAM,CAACS,WAAD,CAAP,CAAR;AACH;AACJ,CANM;AAOP,OAAO,MAAME,aAAa,GAAG,MAAM,MAAML,QAAN,IAAkB;AACjD,QAAMC,QAAQ,GAAG,MAAMV,SAAS,CAAC,kBAAD,EAAqB;AACjDe,IAAAA,MAAM,EAAE,MADyC;AAEjDC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,MAAAA,MAAF;AAAUC,MAAAA;AAAV,KAAf;AAF2C,GAArB,CAAhC;AAIH,CALM;AAOP,MAAMC,YAAY,GAAG;AAAET,EAAAA,WAAW,EAAE;AAAf,CAArB;;AAEA,SAASU,OAAT,CAAiBC,KAAK,GAAGF,YAAzB,EAAuCG,MAAvC,EAA+C;AAC3C,MAAIC,QAAJ;;AACA,UAAQD,MAAM,CAACnB,IAAf;AACI,SAAKJ,eAAL;AACI;AACA;AACA;AACA;AACAwB,MAAAA,QAAQ,GAAG,EACP,GAAGF,KADI;AAEPX,QAAAA,WAAW,EAAEY,MAAM,CAACpB;AAFb,OAAX;AAIA,aAAOqB,QAAP;;AACJ;AACI,aAAOF,KAAP;AAZR;AAcH;;AAED,eAAeD,OAAf","sourcesContent":["import { csrfFetch } from \"./csrf.js\";\n\nconst GET_INGREDIENTS = '/ingredients'\nconst NEW_INGREDIENT = '/newIngredient'\n\nconst getIng = (list) => ({\n    type: GET_INGREDIENTS,\n    list\n})\nconst newIng = (payload) => ({\n    type: NEW_INGREDIENT,\n    payload\n})\n\n\nexport const getIngredients = () => async dispatch => {\n    const response = await csrfFetch('/api/ingredients')\n    if (response.ok) {\n        const ingredients = await response.json();\n        dispatch(getIng(ingredients));\n    }\n}\nexport const newIngredient = () => async dispatch => {\n    const response = await csrfFetch(\"/api/ingredients\", {\n        method: \"POST\",\n        body: JSON.stringify({ userId, name }),\n    });\n}\n\nconst initialState = { ingredients: null };\n\nfunction reducer(state = initialState, action) {\n    let newState;\n    switch (action.type) {\n        case GET_INGREDIENTS:\n            // const allIngs = {};\n            // action.list.forEach(ingredient => {\n            //     allIngs[ingredient.id] = ingredient\n            // })\n            newState = {\n                ...state,\n                ingredients: action.list\n            }\n            return newState;\n        default:\n            return state;\n    }\n}\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}